# Circle Packing

[Circle packing](https://en.wikipedia.org/wiki/Circle_packing) is to arrange circles within a surface without overlaps. And when we use circles of varying sizes, we can achieve this beautiful effect:

<sketch-day-21-1 />

## The Task

Today we are following Generative Artistry's [tutorial](https://generativeartistry.com/tutorials/circle-packing/) to make the effect step by step. The tutorial is written with pure Canvas API, you can try to reimplement it with your favorite tools or take my [p5.js port](https://editor.p5js.org/antfu/sketches/saH6ClcSv) as a starting point.

After that, tweak it and remix your idea to see what you can get.

---

## Extra

Generative Artistry's tutorial uses random tries to determine the position and size of each circle. You may find it a bit inefficient and may also leave some space between the circles.

Here I found an algorithm [Apollonian Gasket](https://en.wikipedia.org/wiki/Apollonian_gasket) that creates the pleasant [fractal](https://en.wikipedia.org/wiki/Fractal) art:

<sketch-day-21-2 />

The basic idea of it is [described](https://www.jasondavies.com/apollonian-gasket/) by [Jason Davies](https://www.jasondavies.com/) as:

- Take three mutually tangent circles and form their [inner Soddy circle](https://mathworld.wolfram.com/InnerSoddyCircle.html).
- Repeat the previous step for the inner Soddy circle paired with each of the original three.

<div class="horizontal-images">
  <figure>
    <img class="invert" src='/assets/2020/21/Descartes_Circles.svg' alt="Descartes Circles"/>
  </figure>
</div>

If you get interested in this, here are a few implementations for you to reference:

- [Apollonian Gasket](https://observablehq.com/@mbostock/apollonian-gasket) by [Mike Bostock](https://observablehq.com/@mbostock)
- [Apollony Fractal](http://paulbourke.net/fractals/apollony/) by [Paul Bourke](http://paulbourke.net/)
- [My port](https://editor.p5js.org/antfu/sketches/qmDDioP8I) in p5.js from Mike's implementation

When you are all done, post your work on Twitter with the hashtag [#codecember](https://twitter.com/hashtag/codecember) and [#day21](https://twitter.com/hashtag/day21). **Remember to include a link to the source code**, so others can learn from your creation. We look forward to seeing your sketch!

Yours, <br>
[Anthony](https://twitter.com/antfu7) & [Pine](https://twitter.com/octref)

----

## Extend readings

- [Simple Stippling Using Circle Packing](https://sighack.com/post/simple-stippling-via-circle-packing) by [Manohar Vanga](https://twitter.com/sighack)
- [Packing Circles inside a Rectangle](https://observablehq.com/@mbostock/packing-circles-inside-a-rectangle) by [Mike Bostock](https://observablehq.com/@mbostock)
